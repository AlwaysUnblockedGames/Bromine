---
import { Icon } from 'astro-icon/components';
---
<div id="welcome-popup" class="fixed inset-0 flex items-center justify-center bg-base/80 backdrop-blur-sm z-[10000]">
  <div class="bg-surface w-[90vw] max-w-[500px] rounded-lg shadow-xl p-6 m-4 max-h-[80vh] overflow-y-auto transform translate-y-[-50px] opacity-0 transition-all duration-300 ease-in-out">
    <div class="flex justify-between items-center mb-6">
      <h1 class="text-2xl font-semibold text-text">Welcome</h1>
      <button
        id="close-welcome-btn"
        aria-label="Close welcome"
        class="text-text hover:text-iris transition-colors"
      >
        <Icon name="lucide:x" class="size-6" />
      </button>
    </div>

    <div class="space-y-4">

      <section class="space-y-2">
        <p>Hello everyone!</p>
      </section>

    </div>
  </div>
</div>

<script is:inline defer>
  document.getElementById('close-welcome-btn')?.addEventListener('click', () => {
    const welcomePopup = document.getElementById('welcome-popup');
        welcomePopup?.classList.remove('transform', 'translate-y-0', 'opacity-100');
        welcomePopup?.classList.add('translate-y-[-50px]', 'opacity-0');
        setTimeout(() => {
          welcomePopup?.classList.add('hidden');
        }, 300);
    
  });
</script>

<style>
  .overflow-y-auto::-webkit-scrollbar { width: 8px; }
  .overflow-y-auto::-webkit-scrollbar-track { background: transparent; }
  .overflow-y-auto::-webkit-scrollbar-thumb { background: #6B7280; border-radius: 4px; }
  .overflow-y-auto::-webkit-scrollbar-thumb:hover { background: #9CA3AF; }

  #welcome-popup.hidden .transform { /* When hidden, ensure it's off-screen/invisible */
    transform: translateY(-50px);
    opacity: 0;
  }
  #welcome-popup:not(.hidden) .transform { /* When shown, animate in */
    transform: translateY(0);
    opacity: 1;
  }
</style>
